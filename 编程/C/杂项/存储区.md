#C

---
C中存储区分为:
1. 栈stack
2. 堆heap
3. 代码段text
4. 数据段data
5. bss段
6. 常量存储区

# 栈
[[堆与栈|栈]]
编译器自动分配释放

---
## 自动分配回收
存放*局部变量*,定义*局部变量*时,系统自动为栈区分配内存;结束时,自动回收内存.

## 脏内存
栈区使用时要对栈区进行初始化;定义局部变量需要对局部变量进行初始化.

## 临时性
函数不能返回栈变量指针,此空间为暂时空间.

## 反复使用
栈内存作为内存空间,被反复使用,[[递归与迭代|如递归]],可能会出现栈溢出.


# 堆
[[堆与栈|堆]]
由程序员分配释放,若不释放,程序结束时将由系统进行回收

---
## 手动分配
C中使用malloc函数进行内存分配,free函数进行内存释放.

## [[内存碎片|脏内存]]
堆区每次使用前需要对堆区进行初始化.

## 临时性
堆区每次内存释放完,就不能再次使用

## malloc函数
malloc函数每次分配完内存后,需要返回指针为void\*类型,需要类型转换,并返回的指针检查是否为null.

## 内存泄露
gcc中,malloc默认最小的内存分配为16B,如果小于这个值,则会返回一个16B大小内存.

# 代码段
文本段,代码段就是函数编译后生成内容.

# 数据段
也被称为数据区,静态数据区,静态区;
1. 显示初始化为非零全局变量
2. 显示初始化为非零的静态局部变量

# bss段
bss(Block Started by Symbol),又被称为时ZI(zero initial)段
1. 显示初始化为0的全局变量
2. 未初始化的全局变量存储
3. 显示初始化为0的static局部变量
4. 未初始化的static局部变量

# 自定义段
段名由程序员定义,属性和特征也由程序员定义.

# 常量存储区
一块比较特殊的存储区,存放常量,不允许修改

# 文件映射区
当进程打开文件,文件内容从硬盘读取到进程文件映射区,以后就直接在内存中操作这个文件,读写完后在保存时,直接将内存中的文件写入硬盘中.

# 内核映射区
内核映射就是将操作系统内部程序映射到这个区域.



